<!--
SPDX-FileCopyrightText: GTK Development Team

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Gtk &ndash; 3.0: Key Bindings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  
  <meta property="og:image:width" content="256"/>
  <meta property="og:image:height" content="256"/>
  <meta property="og:image:secure_url" content="gtk-logo.svg"/>
  <meta property="og:image:alt" content="Gtk-3.0"/>
  

  
  <meta property="og:title" content="Gtk: Key Bindings"/>
  <meta property="og:description" content="Reference for Gtk-3.0: Key Bindings"/>
  <meta name="twitter:title" content="Gtk: Key Bindings"/>
  <meta name="twitter:description" content="Reference for Gtk-3.0: Key Bindings"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  <link rel="search" type="application/opensearchdescription+xml" title="Gtk" href="opensearch.xml">
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      <div class="section">
        <a href="index.html"><img src="gtk-logo.svg" class="logo"/></a>
      </div>
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Gtk</a></h3>
        <p>API Version: 3.0</p>
        
        <p>Library Version: 3.24</p>
        
      </div>
      
      
      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2024.2</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  
  <h4 id="title" style="display:flex;">
    Key Bindings
    <a href="key-bindings.html#title" class="anchor"></a>
    
  </h4>
  
  <section>
    <div class="docblock">
    <h1 id="key-bindings">Key Bindings<a class="md-anchor" href="key-bindings.html#key-bindings" title="Permanent link"></a></h1>
<p><a href="struct.BindingSet.html"><code>GtkBindingSet</code></a> provides a mechanism for configuring <span class="caps">GTK</span> key bindings
through <span class="caps">CSS</span> files. This eases key binding adjustments for application
developers as well as users and provides <span class="caps">GTK</span> users or administrators with
high key binding configurability which requires no application or toolkit
side&nbsp;changes.</p>
<p>In order for bindings to work in a custom widget implementation, the
widget’s <a href="property.Widget.can-focus.html"><code>GtkWidget:can-focus</code></a> and
<a href="property.Widget.has-focus.html"><code>GtkWidget:has-focus</code></a> properties must both be true. For example,
by calling <a href="method.Widget.set_can_focus.html"><code>gtk_widget_set_can_focus()</code></a>in the widget’s initialisation
function; and by calling <a href="method.Widget.grab_focus.html"><code>gtk_widget_grab_focus()</code></a> when the widget is&nbsp;clicked.</p>
<h2 id="installing-a-key-binding">Installing a key binding<a class="md-anchor" href="key-bindings.html#installing-a-key-binding" title="Permanent link"></a></h2>
<p>A <span class="caps">CSS</span> file binding consists of a <code>binding-set</code> definition and a match
statement to apply the binding set to specific widget types. Details on the
matching mechanism are described under Selectors in the
<a href="class.CssProvider.html"><code>GtkCssProvider</code></a> documentation. Inside the binding set definition,
key combinations are bound to one or more specific signal emissions on the
target widget. Key combinations are strings consisting of an optional
<a href="javascript:void(0)" data-namespace="Gdk" data-link="flags.ModifierType.html" class="external"><code>GdkModifierType</code></a> name and key names such as those defined in
<code>gdk/gdkkeysyms.h</code> or returned from <a href="javascript:void(0)" data-namespace="Gdk" data-link="func.keyval_name.html" class="external"><code>gdk_keyval_name()</code></a>, they have to
be parsable by <a href="func.accelerator_parse.html"><code>gtk_accelerator_parse()</code></a>.  Specifications of signal
emissions consist of a string identifying the signal name, and a list of
signal specific arguments in&nbsp;parenthesis.</p>
<p>For example for binding Control and the left or right cursor keys of a
<a href="class.Entry.html"><code>GtkEntry</code></a> widget to the “move-cursor” signal (so movement occurs in
3-character steps), the following binding can be&nbsp;used:</p>
<div class="codehilite"><pre><span></span><code>@binding-set MoveCursor3
{
  bind &quot;&lt;Control&gt;Right&quot; { &quot;move-cursor&quot; (visual-positions, 3, 0) };
  bind &quot;&lt;Control&gt;Left&quot; { &quot;move-cursor&quot; (visual-positions, -3, 0) };
}

entry
{
  -gtk-key-bindings: MoveCursor3;
}
</code></pre></div>

<h2 id="unbinding-existing-key-bindings">Unbinding existing key bindings<a class="md-anchor" href="key-bindings.html#unbinding-existing-key-bindings" title="Permanent link"></a></h2>
<p><span class="caps">GTK</span> already defines a number of useful bindings for the widgets it provides.
Because custom bindings set up in <span class="caps">CSS</span> files take precedence over the default
bindings shipped with <span class="caps">GTK</span>, overriding existing bindings as demonstrated in
Installing a key binding works as expected. The same mechanism can not be
used to “unbind” existing bindings,&nbsp;however.</p>
<div class="codehilite"><pre><span></span><code>@binding-set MoveCursor3
{
  bind &quot;&lt;Control&gt;Right&quot; {  };
  bind &quot;&lt;Control&gt;Left&quot; {  };
}

entry
{
  -gtk-key-bindings: MoveCursor3;
}
</code></pre></div>

<p>The above example will not have the desired effect of causing
<kbd>Ctrl</kbd><kbd>→</kbd> and <kbd>Ctrl</kbd><kbd>←</kbd> key presses to
be ignored by <span class="caps">GTK</span>. Instead, it just causes any existing bindings from the
bindings set “MoveCursor3” to be deleted, so when
<kbd>Ctrl</kbd><kbd>→</kbd> or <kbd>Ctrl</kbd><kbd>←</kbd> are pressed, no
binding for these keys is found in binding set “MoveCursor3”. <span class="caps">GTK</span> will thus
continue to search for matching key bindings, and will eventually lookup and
find the default <span class="caps">GTK</span> bindings for entries which implement word movement. To
keep <span class="caps">GTK</span> from activating its default bindings, the “unbind” keyword can be
used like&nbsp;this:</p>
<div class="codehilite"><pre><span></span><code>@binding-set MoveCursor3
{
  unbind &quot;&lt;Control&gt;Right&quot;;
  unbind &quot;&lt;Control&gt;Left&quot;;
}

entry
{
  -gtk-key-bindings: MoveCursor3;
}
</code></pre></div>

<p>Now, <span class="caps">GTK</span> will find a match when looking up <kbd>Ctrl</kbd><kbd>→</kbd> and
<kbd>Ctrl</kbd><kbd>←</kbd> key presses before it resorts to its default bindings, and
the match instructs it to abort (“unbind”) the search, so the key presses
are not consumed by this widget. As usual, further processing of the key
presses, e.g. by an entry’s parent widget, is now&nbsp;possible.</p>
    </div>
  </section>
</section>


    
<div id="toc" class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      
        
        <li class="toc-list-item"><a href="key-bindings.html#installing-a-key-binding"><span class="link-text">Installing a key binding</span></a></li>
        
        <li class="toc-list-item"><a href="key-bindings.html#unbinding-existing-key-bindings"><span class="link-text">Unbinding existing key bindings</span></a></li>
        
      
    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>